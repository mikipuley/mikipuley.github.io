var useAjax=function(a){$.ajax({type:"POST",url:a.url,dataType:"json",data:a.data,success:function(b){if(typeof a.success==="function"){a.success(b)}},error:function(){if(typeof a.error==="function"){a.error()}}})};$(function(){var a="",c="",b="",d="",e={};if($('select[name="actuator_maker"]')[0]){e={url:"/JP/Sentei-navi/get_actuator_maker",data:{},success:function(f){if(f!=false&&f.length>0){var g='<option value="" selected="selected">選択してください</option>';for(var h=0;h<f.length;h++){g+='<option value="'+f[h]+'">'+f[h]+"</option>"}$('select[name="actuator_maker"]').html(g)}},error:function(f){}};useAjax(e)}$('select[name="actuator_maker"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';a=$(this).val();if(a==""){$('select[name="actuator_model"]').html(f);$('select[name="actuator_model"]').next().find(".customSelectInner").text("選択してください");$('select[name="actuator_model"]').trigger("change");$('select[name="motor_maker"]').trigger("change");return false}e={url:"/JP/Sentei-navi/get_actuator_model",data:{actuator_maker:a},success:function(g){if(g!=false&&g.length>0){for(var h=0;h<g.length;h++){f+='<option value="'+g[h]+'">'+g[h]+"</option>"}$('select[name="actuator_model"]').html(f);$('select[name="actuator_model"]').next().find(".customSelectInner").text("選択してください");$('select[name="actuator_model"]').trigger("change");$('select[name="motor_maker"]').trigger("change")}else{$('select[name="actuator_model"]').html(f);$('select[name="actuator_model"]').next().find(".customSelectInner").text("選択してください");$('select[name="actuator_model"]').trigger("change");$('select[name="motor_maker"]').trigger("change")}},error:function(g){}};useAjax(e)});$('select[name="actuator_model"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';a=$('select[name="actuator_maker"]').val();c=$(this).val();if(a==""||c==""){$('select[name="motor_maker"]').html(f);$('select[name="motor_maker"]').next().find(".customSelectInner").text("選択してください");$('select[name="motor_maker"]').trigger("change");return false}e={url:"/JP/Sentei-navi/get_motor_maker",data:{actuator_maker:a,actuator_model:c},success:function(g){if(g!=false&&g.length>0){for(var h=0;h<g.length;h++){f+='<option value="'+g[h]+'">'+g[h]+"</option>"}$('select[name="motor_maker"]').html(f);$('select[name="motor_maker"]').next().find(".customSelectInner").text("選択してください");$('select[name="motor_maker"]').trigger("change")}else{$('select[name="motor_maker"]').html(f);$('select[name="motor_maker"]').next().find(".customSelectInner").text("選択してください");$('select[name="motor_maker"]').trigger("change")}},error:function(g){}};useAjax(e)});$('select[name="motor_maker"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';a=$('select[name="actuator_maker"]').val();c=$('select[name="actuator_model"]').val();b=$(this).val();if(a==""||c==""||b==""){$('select[name="motor_model"]').html(f);$('select[name="motor_model"]').next().find(".customSelectInner").text("選択してください");return false}e={url:"/JP/Sentei-navi/get_motor_model",data:{actuator_maker:a,actuator_model:c,motor_maker:b},success:function(g){if(g!=false&&g.length>0){for(var h=0;h<g.length;h+=2){f+='<option value="'+g[h]+'">'+g[h+1]+"</option>"}$('select[name="motor_model"]').html(f);$('select[name="motor_model"]').next().find(".customSelectInner").text("選択してください")}else{$('select[name="motor_model"]').html(f);$('select[name="motor_model"]').next().find(".customSelectInner").text("選択してください")}},error:function(g){}};useAjax(e)});$('*[data-form-id="sentei-actuator"]').on("submit",function(){a=$('select[name="actuator_maker"]').val();c=$('select[name="actuator_model"]').val();b=$('select[name="motor_model"]').val();d=$('select[name="motor_maker"]').val();if(a&&c&&b&&d){return true}else{alert("選択してください");return false}});$('*[data-form-id="sentei-motor"]').on("submit",function(){motorType=$('select[name="motor_type"]').val();motorSearchFlag=false;if(motorType==3){motorTorq=$('input[name="max_torque"]').val();motorDiameter=$('input[name="motor_diameter"]').val();axisDiameter=$('input[name="axis_diameter"]').val();if(motorType&&motorTorq&&motorDiameter&&axisDiameter){motorSearchFlag=true}}else{motorCapacity=$('select[name="motor_capacity"]').val();motorRpm=$('select[name="motor_rpm"]').val();motorTorq=$('input[name="max_torque"]').val();motorDiameter=$('input[name="motor_diameter"]').val();motorDiameterS=$('select[name="motor_diameter_select"]').val();axisDiameter=$('input[name="axis_diameter"]').val();if(motorType&&motorCapacity&&motorRpm&&motorTorq&&(motorDiameter||motorDiameterS)&&axisDiameter){motorSearchFlag=true}}if(motorSearchFlag){return true}else{alert("選択してください");return false}});$senteiMortor=$('*[data-form-id="sentei-motor"]');$senteiMortor.find('select[name="motor_capacity"]').parents("dl").hide();$senteiMortor.find('select[name="motor_rpm"]').parents("dl").hide();$senteiMortor.find('select[name="motor_diameter_select"]').parents("dl").hide();$senteiMortor.find('input[name="outside_diameter1"]').parents("dl").show();$senteiMortor.find('input[name="length1"]').parents("dl").show();$senteiMortor.find('input[name="motor_diameter"]').parents("dl").show();$('select[name="motor_type"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';motorType=$(this).val();if(motorType==3){$senteiMortor.find('select[name="motor_capacity"]').parents("dl").hide();$senteiMortor.find('select[name="motor_rpm"]').parents("dl").hide();$senteiMortor.find('input[name="outside_diameter1"]').parents("dl").show();$senteiMortor.find('input[name="length1"]').parents("dl").show()}else{$senteiMortor.find('select[name="motor_capacity"]').parents("dl").show();$senteiMortor.find('select[name="motor_rpm"]').parents("dl").show();$senteiMortor.find('input[name="outside_diameter1"]').parents("dl").hide();$senteiMortor.find('input[name="length1"]').parents("dl").hide()}$('select[name="motor_capacity"]').html(f);$('select[name="motor_capacity"]').next().find(".customSelectInner").text("選択してください");$('select[name="motor_capacity"]').trigger("change");$('input[name="max_torque"]').val("");$('input[name="motor_diameter"]').val("");$('input[name="axis_diameter"]').val("");$('input[name="outside_diameter1"]').val("");$('input[name="outside_diameter2"]').val("");$('input[name="length1"]').val("");$('input[name="length2"]').val("");if(motorType==""){return false}e={url:"/JP/Sentei-navi/get_motor_capacity",data:{motor_type:motorType},success:function(g){if(g!=false&&g.length>0){for(var h=0;h<g.length;h++){f+='<option value="'+g[h]+'">'+g[h]+"</option>"}$('select[name="motor_capacity"]').html(f);$('select[name="motor_capacity"]').next().find(".customSelectInner").text("選択してください");$('input[name="max_torque"]').val("")}else{$('select[name="motor_capacity"]').html(f);$('select[name="motor_capacity"]').next().find(".customSelectInner").text("選択してください");$('select[name="motor_rpm"]').html(f);$('select[name="motor_rpm"]').next().find(".customSelectInner").text("選択してください");$('input[name="max_torque"]').val("")}$('input[name="motor_diameter"]').val("")},error:function(g){}};useAjax(e)});$('select[name="motor_capacity"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';motorType=$('select[name="motor_type"]').val();motorCapacity=$(this).val();if(motorCapacity==""){$('select[name="motor_rpm"]').html("");$('select[name="motor_rpm"]').next().find(".customSelectInner").text("");$('select[name="motor_diameter_select"]').html("");$('select[name="motor_diameter_select"]').next().find(".customSelectInner").text("");$('input[name="max_torque"]').val("");$('input[name="motor_diameter"]').val("");return false}e={url:"/JP/Sentei-navi/get_motor_rpm",data:{motor_type:motorType,motor_capacity:motorCapacity},success:function(g){if(g!=false&&g.length>0){for(var h=0;h<g.length;h++){f+='<option value="'+g[h]+'">'+g[h]+"</option>"}$('select[name="motor_rpm"]').html(f);$('select[name="motor_rpm"]').next().find(".customSelectInner").text("選択してください");$('input[name="max_torque"]').val("")}else{$('select[name="motor_rpm"]').html(f);$('select[name="motor_rpm"]').next().find(".customSelectInner").text("選択してください");$('input[name="max_torque"]').val("")}$('select[name="motor_diameter_select"]').html(f);$('select[name="motor_diameter_select"]').next().find(".customSelectInner").text("選択してください");$('input[name="motor_diameter"]').val("")},error:function(g){}};useAjax(e)});$('select[name="motor_rpm"]').change(function(){var f='<option value="" selected="selected">選択してください</option>';motorType=$('select[name="motor_type"]').val();motorCapacity=$('select[name="motor_capacity"]').val();motorRpm=$(this).val();if(motorRpm==""){$('input[name="max_torque"]').val("");$('input[name="motor_diameter"]').val("");$('select[name="motor_diameter_select"]').html(f);$('select[name="motor_diameter_select"]').next().find(".customSelectInner").text("選択してください");return false}e={url:"/JP/Sentei-navi/get_motor_torque",data:{motor_type:motorType,motor_capacity:motorCapacity,motor_rpm:motorRpm},success:function(g){$('input[name="max_torque"]').val(g.torque);var h=g.axis_diameter.split(",");if(h.length==1){$senteiMortor.find('select[name="motor_diameter_select"]').parents("dl").hide();$senteiMortor.find('input[name="motor_diameter"]').parents("dl").show();$('input[name="motor_diameter"]').val(g.axis_diameter)}else{$senteiMortor.find('select[name="motor_diameter_select"]').parents("dl").show();$senteiMortor.find('input[name="motor_diameter"]').parents("dl").hide();for(var i=0;i<h.length;i++){f+='<option value="'+h[i]+'">'+h[i]+"</option>"}$('input[name="motor_diameter"]').val("")}$('select[name="motor_diameter_select"]').html(f);$('select[name="motor_diameter_select"]').next().find(".customSelectInner").text("選択してください")},error:function(g){}};useAjax(e)});$('select[name="field_id"]').change(function(){var g=$(this).val();if(g=="0"){return false}var f=location.pathname+"?field_id="+g;location.href=f});$('select[name="theme_id"]').change(function(){var f=$(this).val();if(f=="0"){return false}var g=location.pathname+"?theme_id="+f;location.href=g});$('*[data-form-id="keyword-search"]').on("submit",function(){var f=$('input[name="keyword"]').val();if(f!=""){return true}else{alert("入力してください");return false}});$('*[data-form-id="webcode-search"]').on("submit",function(){var f=$('input[name="webcode"]').val();if(f!=""){return true}else{alert("入力してください");return false}});$('*[data-form-id="keyword_webcode-search"]').on("submit",function(){var f=$('input[name="keyword_webcode"]').val();if(f!=""){return true}else{alert("入力してください");return false}})});